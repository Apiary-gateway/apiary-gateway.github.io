---
import Introduction from '../content/case-study/01_introduction.astro';
import SidebarScrollLayout from '../layouts/SidebarScrollLayout.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import Background from '../content/case-study/02_background.astro';
import ExistingSolutions from '../content/case-study/03_existing-solutions.astro';
import OurSolution from '../content/case-study/04_our-solution.astro';
import BuildingApiary from '../content/case-study/05_building-apiary.astro';
import FutureWork from '../content/case-study/06_future-work.astro';
import References from '../content/case-study/08_references.astro';

// Define the structure of your case study content
const headings = [
  {
    id: "introduction",
    title: "Introduction",
    children: [
      {
        id: "what-is-apiary",
        title: "What is Apiary?"
      },
    ]
  },
  {
    id: "background",
    title: "Background",
    children: [
      {
        id: "foundation-models",
        title: "Foundation Models and Model-as-a-Service"
      },
      {
        id: "challenges",
        title: "Challenges of Working with LLMs"
      },
      {
        id: "multiple-llms",
        title: "Why Use Multiple LLMs?"
      },
      {
        id: "challenges-of-using-multiple-llms",
        title: "Challenges of Using Multiple LLMs"
      },
      {
        id: "abstraction",
        title: "A New Layer of Abstraction"
      }
    ]
  },
  {
    id: "existing-solutions",
    title: "Existing Solutions",
    children: [
      {
        id: "open-source-tools",
        title: "Open Source Tools"
      },
      {
        id: "managed-services",
        title: "Managed Services"
      },
      {
        id: "tradeoffs",
        title: "Tradeoffs"
      }
    ]
  },
  {
    id: "our-solution",
    title: "Our Solution",
    children: [
      {
        id: "how-apiary-compares-to-alternatives",
        title: "How Apiary Compares to Alternatives"
      },
      {
        id: "who-apiary-is-for",
        title: "Who Apiary Is For"
      },
      {
        id: "a-walkthrough-of-the-apiary-dashboard",
        title: "A Walkthrough of the Apiary Dashboard"
      },
      {
        id: "the-life-cycle-of-a-request",
        title: "Life Cycle of a Request"
      },
      {
        id: "getting-started-with-apiary",
        title: "Getting Started with Apiary"
      }
    ]
  },
  {
    id: "building-apiary",
    title: "Building Apiary",
    children: [
      {
        id: "serverless-architecture",
        title: "Serverless Architecture"
      },
      {
        id: "request-response-transformation",
        title: "Request/Response Transformation"
      },
      {
        id: "api-key-management",
        title: "API Key Management"
      },
      {
        id: "managing-conversation-history",
        title: "Managing Conversation History"
      },
      {
        id: "configurable-routing",
        title: "Configurable Routing"
      },
      {
        id: "caching",
        title: "Caching"
      },
      {
        id: "guardrails",
        title: "Guardrails"
      },
      {
        id: "collecting-and-storing-observability-data",
        title: "Collecting and Storing Observability Data"
      },
      {
        id: "observability-and-management-dashboard",
        title: "Observability and Management Dashboard"
      }
    ]
  },
  {
    id: "future-work",
    title: "Future Work",
    children: [
      {
        id: "improving-resiliency",
        title: "Improving Resiliency"
      },
      {
        id: "user-querying",
        title: "User Querying"
      },
      {
        id: "optimizing-latency",
        title: "Optimizing Latency"
      },
      {
        id: "conversation-management",
        title: "Conversation Management"
      },
      {
        id: "additional-guardrail-features",
        title: "Additional Guardrail Features"
      }
    ]
  },
  {
    id: "references",
    title: "References",
    children: []
  }
];
---

<BaseLayout>
  <SidebarScrollLayout headings={headings}>
    <slot>
      {headings.map(({ id }) => (
        <>
          {id === 'introduction' && <Introduction />}
          {id === 'background' && <Background />}
          {id === 'existing-solutions' && <ExistingSolutions />}
          {id === 'our-solution' && <OurSolution />}
          {id === 'building-apiary' && <BuildingApiary />}
          {id === 'future-work' && <FutureWork />}
          {id === 'references' && <References />}
        </>
      ))}
    </slot>
  </SidebarScrollLayout>
</BaseLayout>
